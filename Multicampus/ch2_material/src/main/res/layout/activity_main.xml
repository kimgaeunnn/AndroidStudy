<?xml version="1.0" encoding="utf-8"?>
<android.support.v4.widget.DrawerLayout
		xmlns:android="http://schemas.android.com/apk/res/android"
		xmlns:app="http://schemas.android.com/apk/res-auto"
		xmlns:tools="http://schemas.android.com/tools"
		android:id="@+id/drawer"
		android:layout_width="match_parent"
		android:layout_height="match_parent">

	<!-- view들의 상호 연동, Recycler View <-> AppBarLout 간 연동을 위한 CoordinatorLayout 사용 -->
	<android.support.design.widget.CoordinatorLayout
			android:id="@+id/coordinator"
			android:layout_width="match_parent"
			android:layout_height="match_parent"
			tools:context=".MainActivity">

		<android.support.design.widget.AppBarLayout
				android:id="@+id/appbar"
				android:layout_width="match_parent"
				android:layout_height="242dp"
				android:theme="@style/ThemeOverlay.AppCompat.Dark.ActionBar">

			<!--
			appbar 부분이 어떻게 접힐것인가?
			contentScrim: scroll 되어 접힌다면 어느정도 접혔을때 지정한 컬러로 칠하기
			layout_scrollFlags: 어떻게 접힐 것인가?
			scroll|exitUntilCollapsed: 접히지만, 마지막 한 라인은 남는다.
			scroll|enterAlwaysCollapsed: 전체 접혀서 사라진다.
			-->
			<android.support.design.widget.CollapsingToolbarLayout
					android:layout_width="match_parent"
					android:layout_height="242dp"
					app:contentScrim="?attr/colorPrimary"
					app:expandedTitleMarginBottom="56dp"
					app:expandedTitleMarginStart="48dp"
					app:title="AppBar Title"
					app:layout_scrollFlags="scroll|exitUntilCollapsed">

				<ImageView
						android:layout_width="match_parent"
						android:layout_height="match_parent"
						android:scaleType="centerCrop"
						android:src="@drawable/baseball"
						app:layout_collapseMode="parallax"/>

				<!--
				layout_collapseMode: appBar가 접힐때, 개별 view는 어떻게 접히는가?
				parallax: 접힐때 초기부터 같이 접혀라
				pin: 안접힌다.
				-->
				<android.support.v7.widget.Toolbar
						android:id="@+id/toolbar"
						android:layout_width="match_parent"
						android:layout_height="?attr/actionBarSize"
						app:layout_collapseMode="pin"/>

				<!--
				tabGravity: center, fill 등 지정으로, 버튼 align 조정
				tabMode:  scrollable로 tabButton 스크롤 가능하게 >> 이렇게하면 tabGravity 적용 어짜피 안됨 (왼쪽부터 단순 나열)
				-->
				<android.support.design.widget.TabLayout
						android:id="@+id/tabs"
						android:layout_width="match_parent"
						android:layout_height="50dp"
						android:layout_gravity="bottom"
						app:tabGravity="center"
						app:tabMode="scrollable"
						app:layout_collapseMode="parallax"
						android:layout_below="@id/toolbar"/>

			</android.support.design.widget.CollapsingToolbarLayout>

		</android.support.design.widget.AppBarLayout>

		<!--
		layout_behavior: Library에서 제공하는데, 단순 문자열이 아님, 클래스명임 !
		// 자신들의 scroll 정보를 누구에게 전달해야 하는지에 대한 정보
		// Behavior 클래스: 다른곳의 정보를 받아 대상이 되는 View를 조정하는 역할
		-->
		<android.support.v4.view.ViewPager
				android:id="@+id/viewpager"
				android:layout_width="match_parent"
				android:layout_height="match_parent"
				app:layout_behavior="@string/appbar_scrolling_view_behavior"/>

		<!--rippleColor: 유저 클릭시 테두리 원 색상 -->
		<android.support.design.widget.FloatingActionButton
			android:id="@+id/fab"
			android:layout_margin="10dp"
			android:layout_height="wrap_content"
			android:layout_width="wrap_content"
			android:src="@drawable/ic_floating"
			app:layout_anchor="@id/appbar"
			app:layout_anchorGravity="bottom|right"
			app:fabSize="normal"
			app:rippleColor="#FFFFFF"/>


	</android.support.design.widget.CoordinatorLayout>

	<android.support.design.widget.NavigationView
			android:id="@+id/drawer_view"
			android:layout_width="wrap_content"
			android:layout_height="match_parent"
			android:layout_gravity="start"
			app:headerLayout="@layout/navigation_header"
			app:menu="@menu/menu_drawer">

	</android.support.design.widget.NavigationView>

</android.support.v4.widget.DrawerLayout>